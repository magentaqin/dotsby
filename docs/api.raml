#%RAML 1.0
---
title: "Dotsby API"
version: v1
protocols: [HTTPS]
mediaType: application/json

annotationTypes:
  serviceName:
    type: string
    description: API service catalog
    allowedTargets: Resource
  exampleString:
    type: string
    description: example string

securitySchemes:
  token:
    description: |
      API request need carry valid token obtained from [CreateToken](/auth/auth.createToken) API
    type: x-token
    describedBy:
      headers:
        Authorization:
          description: Token fetching through Login Api
          type: string
      responses:
        401:
          body:
            type: ResponseError
          description: |
            bad or expired token.


traits:
  hasHeaders:
    headers:
      Content-type:
        displayName: Content-type
        description: either xml or json
        type: string
        required: true
  caller_error:
    usage: Apply to method for generating caller side error
    responses:
      400:
        body:
          type: ResponseError
        description: caller side error, primary for incorret parameters
  paged:
    usage: Apply to .list method for pagination response
    queryParameters:
      page?:
        description: Specify the page that you want to retrieve
        type: integer
        default: 1
      limit?:
        description: Specify the amount of items that will be retrieved per page
        type: integer
        default: 10
    responses:
      200:
        body:
          type: object
          properties:
            pagination:
              type: object
              properties:
                page:
                  type: integer
                  description: current page number
                pages:
                  type: integer
                  description: total page number
                limit:
                  type: integer
                  description: the amount of items per page
                count:
                  type: integer
                  description: Total count of all data items

## Document
/document/token:
  get:
    displayName: Get Document Token
    securedBy: ["token"]
    responses:
      200:
        body:
          type: object
          properties:
            data:
              type:  !include ../schemas/dist/document/document_token.json